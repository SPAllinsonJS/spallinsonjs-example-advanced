_A_.Lightbox={view:null,currentComponent:null,create:function(){_A_.Lightbox.view=document.createElement("SPAllinsonJS-Lightbox"),_A_.Lightbox.view.setAttribute("id","_A_Lightbox"),_A_.Lightbox.view.className="_A_Lightbox _A_Hidden",_A_.Container.appendChild(_A_.Lightbox.view)},addKeyupHandler:function(){window.addEventListener("keyup",_A_.Lightbox.keyupHandler)},removeKeyupHandler:function(){window.removeEventListener("keyup",_A_.Lightbox.keyupHandler)},keyupHandler:function(e){var _=e.keyCode?e.keyCode:e.which;27==_&&_A_.Lightbox.close()},open:function(e,_){e&&(_A_.Lightbox.addKeyupHandler(),e!=_A_.Lightbox.currentComponent&&(_A_.Lightbox.view.innerHTML="",_A_.MemoryManagement.deregisterComponent("_A_Lightbox"),_A_.Lightbox.currentComponent=e,_?_A_.Router.routeTo([[[e,_],"_A_Lightbox"]],!0):_A_.Router.routeTo([[e,"_A_Lightbox"]],!0)),_A_.Lightbox.view.className="_A_Lightbox _A_Fade_In")},close:function(){_A_.Lightbox.removeKeyupHandler(),_A_.Lightbox.view.className="_A_Lightbox _A_Fade_Out",setTimeout(function(){_A_.Note.fire("_A_LIGHTBOX_CLOSED")},500)},dealloc:function(){_A_.Lightbox.view.innerHTML="",_A_.MemoryManagement.deregisterComponent("_A_Lightbox"),_A_.MemoryManagement.garbageCollection(),_A_.Lightbox.currentComponent=null}},window.addEventListener("load",_A_.Lightbox.create,!1);